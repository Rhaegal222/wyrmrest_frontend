<div class="ui-table-wrapper">
  <table [class]="tableClasses.join(' ')">
    <thead class="ui-table__head">
      <tr>
        @for (column of columns; track column.field) {
          <th
            class="ui-table__header-cell"
            [class.ui-table__header-cell--sortable]="column.sortable"
            (click)="onSort(column)">
            {{ column.header }}
            @if (column.sortable && sortColumn() === column.field) {
              <span class="ui-table__sort-icon">
                {{ sortDirection() === 'asc' ? '▲' : '▼' }}
              </span>
            }
          </th>
        }
      </tr>
    </thead>
    <tbody class="ui-table__body">
      @for (row of getSortedData(); track row) {
        <tr class="ui-table__row" (click)="onRowClick(row)">
          @for (column of columns; track column.field) {
            <td class="ui-table__cell">{{ row[column.field] }}</td>
          }
        </tr>
      }
      @empty {
        <tr>
          <td [attr.colspan]="columns.length" class="ui-table__empty">
            Nessun dato disponibile
          </td>
        </tr>
      }
    </tbody>
  </table>
</div>
